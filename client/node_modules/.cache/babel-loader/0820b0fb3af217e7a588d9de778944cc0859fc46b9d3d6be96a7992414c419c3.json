{"ast":null,"code":"import { createEventHook, toRef, whenever } from \"@vueuse/shared\";\nimport { ref } from \"vue-demi\";\nimport { useAssertV2SiteKey, useRecaptchaProxy } from \"./context.mjs\";\nexport var RecaptchaV2State = /* @__PURE__ */(RecaptchaV2State2 => {\n  RecaptchaV2State2[\"Init\"] = \"init\";\n  RecaptchaV2State2[\"Verified\"] = \"verified\";\n  RecaptchaV2State2[\"Expired\"] = \"expired\";\n  RecaptchaV2State2[\"Error\"] = \"error\";\n  return RecaptchaV2State2;\n})(RecaptchaV2State || {});\nexport function useChallengeV2({\n  root = ref(),\n  options = {}\n}) {\n  const siteKey = useAssertV2SiteKey();\n  const widgetID = ref();\n  const proxy = useRecaptchaProxy();\n  const verify = createEventHook();\n  const expired = createEventHook();\n  const error = createEventHook();\n  const rootRef = toRef(root);\n  const state = ref(\"init\" /* Init */);\n  whenever(rootRef, async el => {\n    const id = await proxy.render(el, {\n      ...options,\n      sitekey: siteKey,\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      callback: verify.trigger,\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      \"expired-callback\": expired.trigger,\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      \"error-callback\": error.trigger\n    });\n    widgetID.value = id;\n  });\n  verify.on(() => {\n    state.value = \"verified\" /* Verified */;\n  });\n  expired.on(() => {\n    state.value = \"expired\" /* Expired */;\n  });\n  error.on(() => {\n    state.value = \"error\" /* Error */;\n  });\n  return {\n    root: rootRef,\n    widgetID,\n    execute() {\n      if (typeof widgetID.value !== \"undefined\") {\n        proxy.execute(widgetID.value);\n      }\n    },\n    reset() {\n      state.value = \"init\" /* Init */;\n      if (typeof widgetID.value !== \"undefined\") {\n        proxy.reset(widgetID.value);\n      }\n    },\n    state,\n    onVerify: verify.on,\n    onExpired: expired.on,\n    onError: error.on\n  };\n}","map":{"version":3,"names":["createEventHook","toRef","whenever","ref","useAssertV2SiteKey","useRecaptchaProxy","RecaptchaV2State","RecaptchaV2State2","useChallengeV2","root","options","siteKey","widgetID","proxy","verify","expired","error","rootRef","state","el","id","render","sitekey","callback","trigger","value","on","execute","reset","onVerify","onExpired","onError"],"sources":["D:/au_dev/client/node_modules/vue-recaptcha/dist/composables/challenge-v2.mjs"],"sourcesContent":["import { createEventHook, toRef, whenever } from \"@vueuse/shared\";\nimport { ref } from \"vue-demi\";\nimport { useAssertV2SiteKey, useRecaptchaProxy } from \"./context.mjs\";\nexport var RecaptchaV2State = /* @__PURE__ */ ((RecaptchaV2State2) => {\n  RecaptchaV2State2[\"Init\"] = \"init\";\n  RecaptchaV2State2[\"Verified\"] = \"verified\";\n  RecaptchaV2State2[\"Expired\"] = \"expired\";\n  RecaptchaV2State2[\"Error\"] = \"error\";\n  return RecaptchaV2State2;\n})(RecaptchaV2State || {});\nexport function useChallengeV2({ root = ref(), options = {} }) {\n  const siteKey = useAssertV2SiteKey();\n  const widgetID = ref();\n  const proxy = useRecaptchaProxy();\n  const verify = createEventHook();\n  const expired = createEventHook();\n  const error = createEventHook();\n  const rootRef = toRef(root);\n  const state = ref(\"init\" /* Init */);\n  whenever(rootRef, async (el) => {\n    const id = await proxy.render(el, {\n      ...options,\n      sitekey: siteKey,\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      callback: verify.trigger,\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      \"expired-callback\": expired.trigger,\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      \"error-callback\": error.trigger\n    });\n    widgetID.value = id;\n  });\n  verify.on(() => {\n    state.value = \"verified\" /* Verified */;\n  });\n  expired.on(() => {\n    state.value = \"expired\" /* Expired */;\n  });\n  error.on(() => {\n    state.value = \"error\" /* Error */;\n  });\n  return {\n    root: rootRef,\n    widgetID,\n    execute() {\n      if (typeof widgetID.value !== \"undefined\") {\n        proxy.execute(widgetID.value);\n      }\n    },\n    reset() {\n      state.value = \"init\" /* Init */;\n      if (typeof widgetID.value !== \"undefined\") {\n        proxy.reset(widgetID.value);\n      }\n    },\n    state,\n    onVerify: verify.on,\n    onExpired: expired.on,\n    onError: error.on\n  };\n}\n"],"mappings":"AAAA,SAASA,eAAe,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,gBAAgB;AACjE,SAASC,GAAG,QAAQ,UAAU;AAC9B,SAASC,kBAAkB,EAAEC,iBAAiB,QAAQ,eAAe;AACrE,OAAO,IAAIC,gBAAgB,GAAG,eAAgB,CAAEC,iBAAiB,IAAK;EACpEA,iBAAiB,CAAC,MAAM,CAAC,GAAG,MAAM;EAClCA,iBAAiB,CAAC,UAAU,CAAC,GAAG,UAAU;EAC1CA,iBAAiB,CAAC,SAAS,CAAC,GAAG,SAAS;EACxCA,iBAAiB,CAAC,OAAO,CAAC,GAAG,OAAO;EACpC,OAAOA,iBAAiB;AAC1B,CAAC,EAAED,gBAAgB,IAAI,CAAC,CAAC,CAAC;AAC1B,OAAO,SAASE,cAAcA,CAAC;EAAEC,IAAI,GAAGN,GAAG,CAAC,CAAC;EAAEO,OAAO,GAAG,CAAC;AAAE,CAAC,EAAE;EAC7D,MAAMC,OAAO,GAAGP,kBAAkB,CAAC,CAAC;EACpC,MAAMQ,QAAQ,GAAGT,GAAG,CAAC,CAAC;EACtB,MAAMU,KAAK,GAAGR,iBAAiB,CAAC,CAAC;EACjC,MAAMS,MAAM,GAAGd,eAAe,CAAC,CAAC;EAChC,MAAMe,OAAO,GAAGf,eAAe,CAAC,CAAC;EACjC,MAAMgB,KAAK,GAAGhB,eAAe,CAAC,CAAC;EAC/B,MAAMiB,OAAO,GAAGhB,KAAK,CAACQ,IAAI,CAAC;EAC3B,MAAMS,KAAK,GAAGf,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;EACpCD,QAAQ,CAACe,OAAO,EAAE,MAAOE,EAAE,IAAK;IAC9B,MAAMC,EAAE,GAAG,MAAMP,KAAK,CAACQ,MAAM,CAACF,EAAE,EAAE;MAChC,GAAGT,OAAO;MACVY,OAAO,EAAEX,OAAO;MAChB;MACAY,QAAQ,EAAET,MAAM,CAACU,OAAO;MACxB;MACA,kBAAkB,EAAET,OAAO,CAACS,OAAO;MACnC;MACA,gBAAgB,EAAER,KAAK,CAACQ;IAC1B,CAAC,CAAC;IACFZ,QAAQ,CAACa,KAAK,GAAGL,EAAE;EACrB,CAAC,CAAC;EACFN,MAAM,CAACY,EAAE,CAAC,MAAM;IACdR,KAAK,CAACO,KAAK,GAAG,UAAU,CAAC;EAC3B,CAAC,CAAC;EACFV,OAAO,CAACW,EAAE,CAAC,MAAM;IACfR,KAAK,CAACO,KAAK,GAAG,SAAS,CAAC;EAC1B,CAAC,CAAC;EACFT,KAAK,CAACU,EAAE,CAAC,MAAM;IACbR,KAAK,CAACO,KAAK,GAAG,OAAO,CAAC;EACxB,CAAC,CAAC;EACF,OAAO;IACLhB,IAAI,EAAEQ,OAAO;IACbL,QAAQ;IACRe,OAAOA,CAAA,EAAG;MACR,IAAI,OAAOf,QAAQ,CAACa,KAAK,KAAK,WAAW,EAAE;QACzCZ,KAAK,CAACc,OAAO,CAACf,QAAQ,CAACa,KAAK,CAAC;MAC/B;IACF,CAAC;IACDG,KAAKA,CAAA,EAAG;MACNV,KAAK,CAACO,KAAK,GAAG,MAAM,CAAC;MACrB,IAAI,OAAOb,QAAQ,CAACa,KAAK,KAAK,WAAW,EAAE;QACzCZ,KAAK,CAACe,KAAK,CAAChB,QAAQ,CAACa,KAAK,CAAC;MAC7B;IACF,CAAC;IACDP,KAAK;IACLW,QAAQ,EAAEf,MAAM,CAACY,EAAE;IACnBI,SAAS,EAAEf,OAAO,CAACW,EAAE;IACrBK,OAAO,EAAEf,KAAK,CAACU;EACjB,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}