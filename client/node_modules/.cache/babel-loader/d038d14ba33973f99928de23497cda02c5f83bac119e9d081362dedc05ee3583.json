{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { ref, computed, reactive, onMounted, onUnmounted, watch, nextTick } from 'vue';\nimport { useStore } from 'vuex';\nimport axios from 'axios';\nimport Chart from 'chart.js/auto';\nimport { Dropdown } from 'bootstrap';\nimport { formatDate } from '../utils';\nimport StudentAssessmentChart from '../components/StudentAssessmentChart.vue';\n\n// Create axios instance with correct base URL\nconst api = axios.create({\n  baseURL: 'http://localhost:8081/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport default {\n  name: 'StudentManagement',\n  components: {\n    StudentAssessmentChart\n  },\n  setup() {\n    const store = useStore();\n    const students = ref([]);\n    const searchQuery = ref('');\n    const selectedStudent = ref(null);\n    const performanceChart = ref(null);\n    const sortField = ref('');\n    const sortOrder = ref('asc');\n    const showDeleteModal = ref(false);\n    const studentToDelete = ref(null);\n    const isEditing = ref(false);\n    const editingStudent = ref(null);\n    const showSearch = ref(false);\n    const assessments = ref([]);\n    const selectedYear = ref('');\n    const selectedSection = ref('');\n    const selectedFile = ref(null);\n    const uploadYear = ref('');\n    const isUploading = ref(false);\n    const subjectChart = ref(null);\n    const attendanceChart = ref(null);\n    const historyStartDate = ref('');\n    const historyEndDate = ref('');\n    const showStartDatePicker = ref(false);\n    const showEndDatePicker = ref(false);\n    const showAddStudentModal = ref(false);\n    const showAddSingleStudentModal = ref(false);\n    const availableYears = ['1st', '2nd', '3rd', '4th'];\n    const availableSections = ['South 1', 'South 2', 'South 3'];\n\n    // Add chart refs and new state for tabs and attendance\n    const selectedTab = ref('info');\n    const attendanceHistory = ref([]);\n    const attendanceChartInstance = ref(null);\n    const isLoadingAttendance = ref(false);\n    const attendanceFilter = reactive({\n      startDate: (() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        return date.toISOString().split('T')[0];\n      })(),\n      endDate: new Date().toISOString().split('T')[0]\n    });\n    const attendanceCounts = reactive({\n      present: 0,\n      late: 0,\n      absent: 0\n    });\n\n    // ... existing code ...\n\n    // Student actions\n    const closeStudentModal = () => {\n      // Destroy charts if they exist\n      if (attendanceChartInstance.value) {\n        attendanceChartInstance.value.destroy();\n        attendanceChartInstance.value = null;\n      }\n      selectedStudent.value = null;\n      selectedTab.value = 'info'; // Reset to info tab when closing\n    };\n\n    // New function to handle tab changes\n    const changeTab = tab => {\n      selectedTab.value = tab;\n\n      // If changing to attendance tab, fetch the data\n      if (tab === 'attendance') {\n        fetchAttendanceHistory();\n      }\n    };\n\n    // New function to fetch attendance history\n    const fetchAttendanceHistory = async () => {\n      if (!selectedStudent.value) return;\n      isLoadingAttendance.value = true;\n      try {\n        const response = await api.get(`/attendance/${selectedStudent.value.studentId}/history`, {\n          params: {\n            startDate: attendanceFilter.startDate,\n            endDate: attendanceFilter.endDate,\n            section: selectedStudent.value.section,\n            year: selectedStudent.value.year\n          },\n          headers: {\n            Authorization: `Bearer ${store.state.auth.token}`\n          }\n        });\n        if (response.data && response.data.records) {\n          attendanceHistory.value = response.data.records;\n\n          // Count attendance statuses\n          attendanceCounts.present = 0;\n          attendanceCounts.late = 0;\n          attendanceCounts.absent = 0;\n          attendanceHistory.value.forEach(record => {\n            if (record.status in attendanceCounts) {\n              attendanceCounts[record.status]++;\n            }\n          });\n\n          // Update chart on next DOM update\n          nextTick(() => {\n            initAttendanceChart();\n          });\n        }\n      } catch (error) {\n        console.error('Failed to fetch attendance history:', error);\n      } finally {\n        isLoadingAttendance.value = false;\n      }\n    };\n\n    // New function to initialize the attendance chart\n    const initAttendanceChart = () => {\n      const ctx = attendanceChart.value;\n      if (!ctx) return;\n\n      // Destroy previous chart instance if it exists\n      if (attendanceChartInstance.value) {\n        attendanceChartInstance.value.destroy();\n      }\n      attendanceChartInstance.value = new Chart(ctx, {\n        type: 'doughnut',\n        data: {\n          labels: ['Present', 'Late', 'Absent'],\n          datasets: [{\n            data: [attendanceCounts.present, attendanceCounts.late, attendanceCounts.absent],\n            backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],\n            borderWidth: 0,\n            hoverOffset: 4\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          cutout: '70%',\n          plugins: {\n            legend: {\n              position: 'bottom',\n              labels: {\n                usePointStyle: true,\n                padding: 15,\n                font: {\n                  size: 12\n                }\n              }\n            },\n            tooltip: {\n              callbacks: {\n                label: function (context) {\n                  const label = context.label || '';\n                  const value = context.raw || 0;\n                  const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);\n                  const percentage = total > 0 ? Math.round(value / total * 100) : 0;\n                  return `${label}: ${value} (${percentage}%)`;\n                }\n              }\n            }\n          }\n        }\n      });\n    };\n\n    // Add helper function to capitalize first letter\n    const capitalize = str => {\n      if (!str) return '';\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    };\n\n    // Update viewStudent function\n    const viewStudent = async student => {\n      selectedStudent.value = student;\n      selectedTab.value = 'info'; // Default to info tab\n    };\n\n    // ... existing code ...\n\n    return {\n      // ... existing return values ...\n      selectedTab,\n      attendanceHistory,\n      attendanceFilter,\n      attendanceChart,\n      isLoadingAttendance,\n      fetchAttendanceHistory,\n      capitalize,\n      changeTab\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","reactive","onMounted","onUnmounted","watch","nextTick","useStore","axios","Chart","Dropdown","formatDate","StudentAssessmentChart","api","create","baseURL","headers","name","components","setup","store","students","searchQuery","selectedStudent","performanceChart","sortField","sortOrder","showDeleteModal","studentToDelete","isEditing","editingStudent","showSearch","assessments","selectedYear","selectedSection","selectedFile","uploadYear","isUploading","subjectChart","attendanceChart","historyStartDate","historyEndDate","showStartDatePicker","showEndDatePicker","showAddStudentModal","showAddSingleStudentModal","availableYears","availableSections","selectedTab","attendanceHistory","attendanceChartInstance","isLoadingAttendance","attendanceFilter","startDate","date","Date","setDate","getDate","toISOString","split","endDate","attendanceCounts","present","late","absent","closeStudentModal","value","destroy","changeTab","tab","fetchAttendanceHistory","response","get","studentId","params","section","year","Authorization","state","auth","token","data","records","forEach","record","status","initAttendanceChart","error","console","ctx","type","labels","datasets","backgroundColor","borderWidth","hoverOffset","options","responsive","maintainAspectRatio","cutout","plugins","legend","position","usePointStyle","padding","font","size","tooltip","callbacks","label","context","raw","total","chart","reduce","a","b","percentage","Math","round","capitalize","str","charAt","toUpperCase","slice","viewStudent","student"],"sources":["D:\\au_dev\\client\\src\\views\\StudentManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"student-management\">\r\n    <div class=\"sticky-controls\">\r\n      <div class=\"d-flex gap-2 mb-3\">\r\n        <button \r\n          class=\"btn btn-primary\" \r\n          @click=\"showAddStudentModal = true\"\r\n        >\r\n          <i class=\"fas fa-plus me-1\"></i> Add Student List\r\n        </button>\r\n        <button \r\n          class=\"btn btn-success\" \r\n          @click=\"showAddSingleStudentModal = true\"\r\n        >\r\n          <i class=\"fas fa-user-plus me-1\"></i> Add Single Student\r\n        </button>\r\n      </div>\r\n    \r\n        <!-- Table Controls -->\r\n        <div class=\"table-controls mb-3\">\r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <div class=\"d-flex align-items-center gap-3\">\r\n            <!-- Sort Dropdown -->\r\n            <div class=\"dropdown\">\r\n              <button \r\n                class=\"btn btn-control\" \r\n                type=\"button\" \r\n                id=\"sortDropdown\" \r\n                data-bs-toggle=\"dropdown\" \r\n                aria-expanded=\"false\"\r\n              >\r\n                <i class=\"fas fa-sort me-2\"></i> Sort by\r\n              </button>\r\n              <ul class=\"dropdown-menu shadow-lg\" aria-labelledby=\"sortDropdown\">\r\n                <li>\r\n                  <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"#\" @click.prevent=\"sortBy('studentId')\">\r\n                    <i class=\"fas fa-sort-numeric-down\"></i>\r\n                    <span>ID Number</span>\r\n                    <i :class=\"getSortIcon('studentId')\" class=\"ms-auto\"></i>\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"#\" @click.prevent=\"sortBy('lastName')\">\r\n                    <i class=\"fas fa-sort-alpha-down\"></i>\r\n                    <span>Name</span>\r\n                    <i :class=\"getSortIcon('lastName')\" class=\"ms-auto\"></i>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <!-- Filter Dropdown -->\r\n            <div class=\"dropdown\">\r\n              <button \r\n                class=\"btn btn-control\" \r\n                type=\"button\" \r\n                id=\"filterDropdown\" \r\n                data-bs-toggle=\"dropdown\" \r\n                aria-expanded=\"false\"\r\n              >\r\n                <i class=\"fas fa-filter me-2\"></i> \r\n                {{ hasActiveFilters ? `${selectedYear || 'All Years'} - ${selectedSection || 'All Sections'}` : 'Filter Students' }}\r\n                <span v-if=\"hasActiveFilters\" class=\"filter-badge\">!</span>\r\n              </button>\r\n              <div class=\"dropdown-menu shadow-lg p-3\" aria-labelledby=\"filterDropdown\">\r\n                <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n                  <h6 class=\"dropdown-header px-0 mb-0\">Filter Options</h6>\r\n                    <button \r\n                    v-if=\"hasActiveFilters\"\r\n                    class=\"btn btn-sm btn-outline-secondary\"\r\n                    @click=\"clearFilters\"\r\n                    >\r\n                    Clear Filters\r\n                    </button>\r\n                  </div>\r\n                \r\n                <!-- Year Filter -->\r\n                <div class=\"mb-3\">\r\n                  <label class=\"form-label\">Year Level</label>\r\n                  <select class=\"form-select mb-2\" v-model=\"selectedYear\" @change=\"applyFilters\">\r\n                    <option value=\"\">All Years</option>\r\n                    <option value=\"1st\">1st Year</option>\r\n                    <option value=\"2nd\">2nd Year</option>\r\n                    <option value=\"3rd\">3rd Year</option>\r\n                    <option value=\"4th\">4th Year</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- Section Filter -->\r\n                <div class=\"mb-3\">\r\n                  <label class=\"form-label\">Section</label>\r\n                  <select class=\"form-select\" v-model=\"selectedSection\" @change=\"applyFilters\">\r\n                    <option value=\"\">All Sections</option>\r\n                    <option value=\"South 1\">South 1</option>\r\n                    <option value=\"South 2\">South 2</option>\r\n                    <option value=\"South 3\">South 3</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Search Control -->\r\n          <div class=\"search-control\">\r\n            <div class=\"input-group\">\r\n              <span class=\"input-group-text border-end-0\">\r\n                <i class=\"fas fa-search\"></i>\r\n              </span>\r\n                <input \r\n                  type=\"text\" \r\n                class=\"form-control border-start-0\" \r\n                  v-model=\"searchQuery\"\r\n                placeholder=\"Search students...\"\r\n                @input=\"handleSearch\"\r\n              >\r\n              <button \r\n                v-if=\"searchQuery\"\r\n                class=\"btn btn-outline-secondary border-start-0\" \r\n                type=\"button\"\r\n                @click=\"clearSearch\"\r\n              >\r\n                <i class=\"fas fa-times\"></i>\r\n              </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        </div>\r\n\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>Student ID</th>\r\n                <th>Last Name</th>\r\n                <th>First Name</th>\r\n                <th>Email</th>\r\n                <th>Year</th>\r\n                <th>Section</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n          <template v-if=\"paginatedStudents.length > 0\">\r\n                <tr \r\n              v-for=\"student in paginatedStudents\" \r\n                  :key=\"student.studentId\"\r\n                  @click=\"viewStudent(student)\"\r\n                  class=\"clickable-row\"\r\n                >\r\n                  <td>{{ student.studentId }}</td>\r\n                  <td>{{ student.lastName }}</td>\r\n                  <td>{{ student.firstName }}</td>\r\n                  <td>{{ student.email }}</td>\r\n                  <td>{{ student.year }}</td>\r\n                  <td>{{ student.section }}</td>\r\n                </tr>\r\n              </template>\r\n              <tr v-else>\r\n                <td colspan=\"6\" class=\"text-center py-4\">\r\n                  <div class=\"empty-state-message\">\r\n                    <i class=\"fas fa-users text-muted mb-2\"></i>\r\n                    <p class=\"mb-0\">No students found</p>\r\n                    <p class=\"text-muted small\" v-if=\"hasActiveFilters\">\r\n                      Try adjusting your filters\r\n                    </p>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n    </div>\r\n\r\n    <!-- Pagination Controls -->\r\n    <div class=\"pagination-controls mt-3 d-flex justify-content-between align-items-center\">\r\n      <div class=\"pagination-info\">\r\n        Showing {{ paginationInfo.start }} to {{ paginationInfo.end }} of {{ sortedStudents.length }} entries\r\n      </div>\r\n      <div class=\"pagination-buttons\">\r\n        <button \r\n          class=\"btn btn-outline-primary me-2\" \r\n          @click=\"previousPage\" \r\n          :disabled=\"currentPage === 1\"\r\n        >\r\n          <i class=\"fas fa-chevron-left me-1\"></i> Previous\r\n        </button>\r\n        <button \r\n          class=\"btn btn-outline-primary\" \r\n          @click=\"nextPage\" \r\n          :disabled=\"currentPage >= totalPages\"\r\n        >\r\n          Next <i class=\"fas fa-chevron-right ms-1\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add Student Modal -->\r\n    <div v-if=\"showAddStudentModal\" class=\"add-student-modal\">\r\n      <div class=\"add-student-backdrop\" @click=\"showAddStudentModal = false\"></div>\r\n      <div class=\"add-student-dialog\">\r\n        <div class=\"add-student-content\">\r\n          <div class=\"modal-header bg-primary text-white\">\r\n            <h5 class=\"modal-title\">Add Student List</h5>\r\n            <button type=\"button\" class=\"btn-close btn-close-white\" @click=\"showAddStudentModal = false\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"handleFileUpload\">\r\n              <!-- Year Selection -->\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Year Level</label>\r\n                <select class=\"form-select\" v-model=\"uploadYear\" required>\r\n                  <option value=\"\">Select Year</option>\r\n                  <option v-for=\"year in availableYears\" :key=\"year\" :value=\"year\">{{ year }}</option>\r\n                </select>\r\n                <small class=\"text-muted d-block mt-1\">\r\n                  Note: Sections will be automatically assigned based on the number of students (50 students per section).\r\n                </small>\r\n              </div>\r\n\r\n              <!-- File Upload -->\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">CSV File</label>\r\n                <input \r\n                  type=\"file\" \r\n                  class=\"form-control\" \r\n                  accept=\".csv\"\r\n                  @change=\"handleFileChange\"\r\n                  required\r\n                >\r\n                <small class=\"text-muted d-block mt-1\">\r\n                  <strong>Required fields:</strong> StudentID, LastName, FirstName, MiddleName, ContactNumber, Email\r\n                </small>\r\n                <small class=\"text-muted d-block mt-1\">\r\n                  <strong>Important:</strong> Make sure the CSV file has an \"Email\" column with valid email addresses.\r\n                </small>\r\n                <small class=\"text-muted d-block mt-1\">\r\n                  File must be in CSV format with headers matching the required fields exactly.\r\n                </small>\r\n              </div>\r\n\r\n              <div class=\"text-end\">\r\n                <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"showAddStudentModal = false\">\r\n                  Cancel\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isUploading || !selectedFile\">\r\n                  {{ isUploading ? 'Uploading...' : 'Upload' }}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Student Details Modal -->\r\n    <div v-if=\"selectedStudent\" class=\"modal-wrapper\">\r\n      <div class=\"modal-backdrop\" @click=\"closeStudentModal\"></div>\r\n      <div class=\"modal-dialog modal-xxl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-primary text-white\">\r\n            <h5 class=\"modal-title\">\r\n              <i class=\"fas fa-user-graduate me-2\"></i>\r\n              Student Details\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close btn-close-white\" @click=\"closeStudentModal\"></button>\r\n          </div>\r\n          \r\n          <ul class=\"nav nav-tabs mt-3 px-3\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" :class=\"{ active: selectedTab === 'info' }\" href=\"#\" @click.prevent=\"changeTab('info')\">\r\n                <i class=\"fas fa-info-circle me-1\"></i> Student Info\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" :class=\"{ active: selectedTab === 'attendance' }\" href=\"#\" @click.prevent=\"changeTab('attendance')\">\r\n                <i class=\"fas fa-calendar-check me-1\"></i> Attendance History\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" :class=\"{ active: selectedTab === 'assessments' }\" href=\"#\" @click.prevent=\"changeTab('assessments')\">\r\n                <i class=\"fas fa-clipboard-list me-1\"></i> Assessments\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          \r\n          <div class=\"modal-body\">\r\n            <!-- Student Info Tab -->\r\n            <div v-if=\"selectedTab === 'info'\">\r\n              <div class=\"student-details\">\r\n                <div class=\"student-info\">\r\n                  <h6 class=\"info-title\">Student Information</h6>\r\n                  <div class=\"info-content\">\r\n                    <p><strong>Student ID:</strong> {{ selectedStudent.studentId }}</p>\r\n                    <p><strong>Name:</strong> {{ selectedStudent.firstName }} {{ selectedStudent.middleName ? selectedStudent.middleName + ' ' : '' }}{{ selectedStudent.lastName }}</p>\r\n                    <p><strong>Year Level:</strong> {{ selectedStudent.year }}</p>\r\n                    <p><strong>Academic Year:</strong> {{ getAcademicYearRange(selectedStudent.year) }}</p>\r\n                    <p><strong>Section:</strong> {{ selectedStudent.section }}</p>\r\n                    <p><strong>Email:</strong> {{ selectedStudent.email }}</p>\r\n                    <p><strong>Contact:</strong> {{ selectedStudent.contactNumber || 'N/A' }}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n              \r\n            <!-- Attendance History Tab -->\r\n            <template v-if=\"selectedTab === 'attendance'\">\r\n              <div class=\"attendance-history\">\r\n                <div class=\"chart-controls mb-3\">\r\n                  <div class=\"date-filter\">\r\n                    <div class=\"input-group input-group-sm\">\r\n                      <span class=\"input-group-text\">From</span>\r\n                      <input \r\n                        type=\"date\" \r\n                        class=\"form-control\" \r\n                        v-model=\"attendanceFilter.startDate\"\r\n                      >\r\n                      <span class=\"input-group-text\">To</span>\r\n                      <input \r\n                        type=\"date\" \r\n                        class=\"form-control\" \r\n                        v-model=\"attendanceFilter.endDate\"\r\n                      >\r\n                      <button class=\"btn btn-primary\" @click=\"fetchAttendanceHistory\">\r\n                        <i class=\"fas fa-filter me-1\"></i> Apply\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"student-charts\">\r\n                  <!-- Attendance Chart -->\r\n                  <div class=\"chart-section\">\r\n                    <h6>Attendance Overview</h6>\r\n                    <div class=\"chart-container\" style=\"height: 400px\">\r\n                      <canvas ref=\"attendanceChart\"></canvas>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <!-- Attendance History Table -->\r\n                  <div class=\"chart-section\">\r\n                    <h6>Attendance History</h6>\r\n                    <div class=\"table-responsive data-table\">\r\n                      <table class=\"table\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Date</th>\r\n                            <th>Subject</th>\r\n                            <th>Status</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <template v-if=\"attendanceHistory.length > 0\">\r\n                            <tr v-for=\"record in attendanceHistory\" :key=\"record._id\">\r\n                              <td>{{ formatDate(record.date) }}</td>\r\n                              <td>{{ record.subject || 'N/A' }}</td>\r\n                              <td>\r\n                                <span \r\n                                  class=\"status-badge\" \r\n                                  :class=\"{\r\n                                    'present': record.status === 'present',\r\n                                    'late': record.status === 'late',\r\n                                    'absent': record.status === 'absent'\r\n                                  }\"\r\n                                >\r\n                                  {{ capitalize(record.status) }}\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                          </template>\r\n                          <tr v-else>\r\n                            <td colspan=\"3\" class=\"text-center py-3 text-muted\">\r\n                              <i class=\"fas fa-info-circle me-2\"></i>No attendance records found.\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            \r\n            <!-- Assessments Tab -->\r\n            <template v-if=\"selectedTab === 'assessments'\">\r\n              <div class=\"assessments\">\r\n                <div class=\"chart-section\">\r\n                  <h6>Assessment Performance</h6>\r\n                  <StudentAssessmentChart \r\n                    :assessments=\"assessments\" \r\n                    :studentId=\"selectedStudent.studentId\" \r\n                  />\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </div>\r\n          \r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeStudentModal\">\r\n              <i class=\"fas fa-times me-1\"></i> Close\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"startEditing(selectedStudent)\">\r\n              <i class=\"fas fa-edit me-1\"></i> Edit Student\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Edit Student Modal -->\r\n    <div v-if=\"isEditing\" class=\"modal-wrapper\">\r\n      <div class=\"modal-backdrop\" @click=\"cancelEditing\"></div>\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Edit Student</h5>\r\n            <button type=\"button\" class=\"btn-close\" @click=\"cancelEditing\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"saveStudentChanges\">\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Student ID</label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"editingStudent.studentId\"\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">First Name</label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"editingStudent.firstName\"\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Last Name</label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"editingStudent.lastName\"\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Email</label>\r\n                <input \r\n                  type=\"email\" \r\n                  class=\"form-control\" \r\n                  v-model=\"editingStudent.email\"\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Year</label>\r\n                <select class=\"form-select\" v-model=\"editingStudent.year\">\r\n                  <option v-for=\"year in availableYears\" :value=\"year\">{{ year }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Section</label>\r\n                <select class=\"form-select\" v-model=\"editingStudent.section\">\r\n                  <option v-for=\"section in availableSections\" :value=\"section\">{{ section }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"d-flex justify-content-end gap-2\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" @click=\"cancelEditing\">\r\n                  Cancel\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Delete Confirmation Modal -->\r\n    <div v-if=\"showDeleteModal\" class=\"modal-wrapper\">\r\n      <div class=\"modal-backdrop\" @click=\"showDeleteModal = false\"></div>\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Confirm Delete</h5>\r\n            <button type=\"button\" class=\"btn-close\" @click=\"showDeleteModal = false\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>Are you sure you want to delete this student?</p>\r\n            <p class=\"text-danger\">\r\n              <strong>{{ studentToDelete?.firstName }} {{ studentToDelete?.lastName }}</strong>\r\n            </p>\r\n            <p class=\"text-muted small\">This action cannot be undone.</p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button \r\n              type=\"button\" \r\n              class=\"btn btn-secondary\" \r\n              @click=\"showDeleteModal = false\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              class=\"btn btn-danger\" \r\n              @click=\"deleteStudent(studentToDelete)\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add Single Student Modal -->\r\n    <div v-if=\"showAddSingleStudentModal\" class=\"modal-wrapper\">\r\n      <div class=\"modal-backdrop\" @click=\"showAddSingleStudentModal = false\"></div>\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-success text-white\">\r\n            <h5 class=\"modal-title\">\r\n              <i class=\"fas fa-user-plus me-2\"></i>\r\n              Add Single Student\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close btn-close-white\" @click=\"showAddSingleStudentModal = false\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"handleAddSingleStudent\">\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Student ID <span class=\"text-danger\">*</span></label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"newStudent.studentId\"\r\n                  required\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">First Name <span class=\"text-danger\">*</span></label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"newStudent.firstName\"\r\n                  required\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Middle Name <span class=\"text-danger\">*</span></label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"newStudent.middleName\"\r\n                  required\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Last Name <span class=\"text-danger\">*</span></label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"newStudent.lastName\"\r\n                  required\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Email <span class=\"text-danger\">*</span></label>\r\n                <input \r\n                  type=\"email\" \r\n                  class=\"form-control\" \r\n                  v-model=\"newStudent.email\"\r\n                  required\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Contact Number <span class=\"text-danger\">*</span></label>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  v-model=\"newStudent.contactNumber\"\r\n                  required\r\n                >\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Year <span class=\"text-danger\">*</span></label>\r\n                <select class=\"form-select\" v-model=\"newStudent.year\" required>\r\n                  <option value=\"\">Select Year</option>\r\n                  <option v-for=\"year in availableYears\" :key=\"year\" :value=\"year\">{{ year }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Section <span class=\"text-danger\">*</span></label>\r\n                <select class=\"form-select\" v-model=\"newStudent.section\" required>\r\n                  <option value=\"\">Select Section</option>\r\n                  <option v-for=\"section in availableSections\" :key=\"section\" :value=\"section\">{{ section }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"d-flex justify-content-end gap-2\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" @click=\"showAddSingleStudentModal = false\">\r\n                  Cancel\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-success\" :disabled=\"isAddingStudent\">\r\n                  {{ isAddingStudent ? 'Adding...' : 'Add Student' }}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, reactive, onMounted, onUnmounted, watch, nextTick } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport axios from 'axios'\r\nimport Chart from 'chart.js/auto'\r\nimport { Dropdown } from 'bootstrap'\r\nimport { formatDate } from '../utils'\r\nimport StudentAssessmentChart from '../components/StudentAssessmentChart.vue'\r\n\r\n// Create axios instance with correct base URL\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:8081/api',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default {\r\n  name: 'StudentManagement',\r\n  components : {\r\n    StudentAssessmentChart\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n    const students = ref([])\r\n    const searchQuery = ref('')\r\n    const selectedStudent = ref(null)\r\n    const performanceChart = ref(null)\r\n    const sortField = ref('')\r\n    const sortOrder = ref('asc')\r\n    const showDeleteModal = ref(false)\r\n    const studentToDelete = ref(null)\r\n    const isEditing = ref(false)\r\n    const editingStudent = ref(null)\r\n    const showSearch = ref(false)\r\n    const assessments = ref([])\r\n    const selectedYear = ref('')\r\n    const selectedSection = ref('')\r\n    const selectedFile = ref(null)\r\n    const uploadYear = ref('')\r\n    const isUploading = ref(false)\r\n    const subjectChart = ref(null)\r\n    const attendanceChart = ref(null)\r\n    const historyStartDate = ref('')\r\n    const historyEndDate = ref('')\r\n    const showStartDatePicker = ref(false)\r\n    const showEndDatePicker = ref(false)\r\n    const showAddStudentModal = ref(false)\r\n    const showAddSingleStudentModal = ref(false)\r\n    const availableYears = ['1st', '2nd', '3rd', '4th']\r\n    const availableSections = ['South 1', 'South 2', 'South 3']\r\n\r\n    // Add chart refs and new state for tabs and attendance\r\n    const selectedTab = ref('info')\r\n    const attendanceHistory = ref([])\r\n    const attendanceChartInstance = ref(null)\r\n    const isLoadingAttendance = ref(false)\r\n    \r\n    const attendanceFilter = reactive({\r\n      startDate: (() => {\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 30);\r\n        return date.toISOString().split('T')[0];\r\n      })(),\r\n      endDate: new Date().toISOString().split('T')[0]\r\n    });\r\n    \r\n    const attendanceCounts = reactive({\r\n      present: 0,\r\n      late: 0,\r\n      absent: 0\r\n    });\r\n\r\n    // ... existing code ...\r\n\r\n    // Student actions\r\n    const closeStudentModal = () => {\r\n      // Destroy charts if they exist\r\n      if (attendanceChartInstance.value) {\r\n        attendanceChartInstance.value.destroy();\r\n        attendanceChartInstance.value = null;\r\n      }\r\n      selectedStudent.value = null;\r\n      selectedTab.value = 'info'; // Reset to info tab when closing\r\n    };\r\n\r\n    // New function to handle tab changes\r\n    const changeTab = (tab) => {\r\n      selectedTab.value = tab;\r\n      \r\n      // If changing to attendance tab, fetch the data\r\n      if (tab === 'attendance') {\r\n        fetchAttendanceHistory();\r\n      }\r\n    };\r\n\r\n    // New function to fetch attendance history\r\n    const fetchAttendanceHistory = async () => {\r\n      if (!selectedStudent.value) return;\r\n      \r\n      isLoadingAttendance.value = true;\r\n      \r\n      try {\r\n        const response = await api.get(`/attendance/${selectedStudent.value.studentId}/history`, {\r\n          params: {\r\n            startDate: attendanceFilter.startDate,\r\n            endDate: attendanceFilter.endDate,\r\n            section: selectedStudent.value.section,\r\n            year: selectedStudent.value.year\r\n          },\r\n          headers: {\r\n            Authorization: `Bearer ${store.state.auth.token}`\r\n          }\r\n        });\r\n        \r\n        if (response.data && response.data.records) {\r\n          attendanceHistory.value = response.data.records;\r\n          \r\n          // Count attendance statuses\r\n          attendanceCounts.present = 0;\r\n          attendanceCounts.late = 0;\r\n          attendanceCounts.absent = 0;\r\n          \r\n          attendanceHistory.value.forEach(record => {\r\n            if (record.status in attendanceCounts) {\r\n              attendanceCounts[record.status]++;\r\n            }\r\n          });\r\n          \r\n          // Update chart on next DOM update\r\n          nextTick(() => {\r\n            initAttendanceChart();\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch attendance history:', error);\r\n      } finally {\r\n        isLoadingAttendance.value = false;\r\n      }\r\n    };\r\n    \r\n    // New function to initialize the attendance chart\r\n    const initAttendanceChart = () => {\r\n      const ctx = attendanceChart.value;\r\n      if (!ctx) return;\r\n      \r\n      // Destroy previous chart instance if it exists\r\n      if (attendanceChartInstance.value) {\r\n        attendanceChartInstance.value.destroy();\r\n      }\r\n      \r\n      attendanceChartInstance.value = new Chart(ctx, {\r\n        type: 'doughnut',\r\n        data: {\r\n          labels: ['Present', 'Late', 'Absent'],\r\n          datasets: [{\r\n            data: [attendanceCounts.present, attendanceCounts.late, attendanceCounts.absent],\r\n            backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],\r\n            borderWidth: 0,\r\n            hoverOffset: 4\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          cutout: '70%',\r\n          plugins: {\r\n            legend: {\r\n              position: 'bottom',\r\n              labels: {\r\n                usePointStyle: true,\r\n                padding: 15,\r\n                font: {\r\n                  size: 12\r\n                }\r\n              }\r\n            },\r\n            tooltip: {\r\n              callbacks: {\r\n                label: function(context) {\r\n                  const label = context.label || '';\r\n                  const value = context.raw || 0;\r\n                  const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);\r\n                  const percentage = total > 0 ? Math.round((value / total) * 100) : 0;\r\n                  return `${label}: ${value} (${percentage}%)`;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    };\r\n    \r\n    // Add helper function to capitalize first letter\r\n    const capitalize = (str) => {\r\n      if (!str) return '';\r\n      return str.charAt(0).toUpperCase() + str.slice(1);\r\n    };\r\n\r\n    // Update viewStudent function\r\n    const viewStudent = async (student) => {\r\n      selectedStudent.value = student;\r\n      selectedTab.value = 'info'; // Default to info tab\r\n    };\r\n\r\n    // ... existing code ...\r\n\r\n    return {\r\n      // ... existing return values ...\r\n      selectedTab,\r\n      attendanceHistory,\r\n      attendanceFilter,\r\n      attendanceChart,\r\n      isLoadingAttendance,\r\n      fetchAttendanceHistory,\r\n      capitalize,\r\n      changeTab\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Base z-index hierarchy */\r\n:root {\r\n  --z-base: 1;\r\n  --z-table: 1010;\r\n  --z-controls: 1020;\r\n  --z-dropdown: 1030;\r\n  --z-modal-backdrop: 1040;\r\n  --z-modal: 1050;\r\n}\r\n\r\n.student-management {\r\n  padding: 20px;\r\nposition: relative;\r\n}\r\n\r\n/* Button container styles */\r\n.d-flex.gap-2.mb-3 {\r\nposition: static;\r\ntop: auto;\r\nright: auto;\r\nz-index: auto;\r\n}\r\n\r\n/* Modal Styles */\r\n.modal-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\nz-index: 2000;\r\n}\r\n\r\n.modal-backdrop {\r\nposition: fixed;\r\ntop: 0;\r\nleft: 0;\r\nwidth: 100vw;\r\nheight: 100vh;\r\nbackground-color: rgba(0, 0, 0, 0.5);\r\nz-index: 1999;\r\n}\r\n\r\n.modal {\r\n  position: relative;\r\n  width: 100%;\r\nmax-width: 500px;\r\nmargin: 2rem;\r\nz-index: 2001;\r\nbackground: white;\r\nborder-radius: 12px;\r\nbox-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\noverflow: hidden;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n  width: 100%;\r\nbackground: white;\r\nborder-radius: 12px;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-header {\r\ndisplay: flex;\r\nalign-items: center;\r\njustify-content: space-between;\r\npadding: 1rem 1.5rem;\r\nborder-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.modal-header.bg-primary {\r\nbackground-color: #003366 !important;\r\n}\r\n\r\n.btn-close-white {\r\nfilter: brightness(0) invert(1);\r\n}\r\n\r\n.modal-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.form-label {\r\nfont-weight: 500;\r\ncolor: #2d3748;\r\nmargin-bottom: 0.5rem;\r\n}\r\n\r\n.form-select,\r\n.form-control {\r\nborder: 2px solid #e2e8f0;\r\nborder-radius: 8px;\r\npadding: 0.75rem;\r\nwidth: 100%;\r\ntransition: all 0.2s;\r\n}\r\n\r\n.form-select:focus,\r\n.form-control:focus {\r\nborder-color: #003366;\r\nbox-shadow: 0 0 0 2px rgba(0, 51, 102, 0.1);\r\n}\r\n\r\n.text-muted {\r\ncolor: #718096 !important;\r\n}\r\n\r\n.btn {\r\npadding: 0.75rem 1.5rem;\r\nfont-weight: 500;\r\nborder-radius: 8px;\r\ntransition: all 0.2s;\r\n}\r\n\r\n.btn-primary {\r\nbackground-color: #003366;\r\nborder: none;\r\n}\r\n\r\n.btn-primary:hover:not(:disabled) {\r\nbackground-color: #004080;\r\n}\r\n\r\n.btn-secondary {\r\nbackground-color: #e2e8f0;\r\nborder: none;\r\ncolor: #4a5568;\r\n}\r\n\r\n.btn-secondary:hover {\r\nbackground-color: #cbd5e1;\r\n}\r\n\r\n.btn:disabled {\r\nopacity: 0.7;\r\ncursor: not-allowed;\r\n}\r\n\r\n/* Table container styles */\r\n.table-container {\r\nmargin-top: 0;\r\n}\r\n\r\n/* Table Styles */\r\n.table-responsive {\r\n  position: relative;\r\n  z-index: 1010;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n}\r\n\r\n.table {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 1011;\r\n  padding: 1rem;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n/* Student Info Card */\r\n.student-info-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.student-info-header {\r\n  padding: 1rem 1.25rem;\r\n  background: #f8f9fa;\r\n  border-bottom: 1px solid #e9ecef;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n}\r\n\r\n.student-info-content {\r\n  padding: 1.25rem;\r\n}\r\n\r\n.info-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: 1.25rem;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.info-item label {\r\n  font-size: 0.875rem;\r\n  color: #718096;\r\n  font-weight: 500;\r\n}\r\n\r\n.info-item span {\r\n  color: #2d3748;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Performance Card */\r\n.performance-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.performance-header {\r\n  padding: 1rem 1.25rem;\r\n  background: #f8f9fa;\r\n  border-bottom: 1px solid #e9ecef;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.performance-content {\r\n  padding: 1.25rem;\r\n}\r\n\r\n.chart-container {\r\n  background: white;\r\n  padding: 1.25rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* History Card */\r\n.history-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.history-header {\r\n  padding: 1rem 1.25rem;\r\n  background: #003366;\r\n  color: white;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.history-content {\r\n  padding: 1.25rem;\r\n}\r\n\r\n/* Dropdown Styles */\r\n.dropdown {\r\n  position: relative;\r\n  z-index: 1030;\r\n}\r\n\r\n.dropdown-menu {\r\n  position: absolute;\r\n  z-index: 1031;\r\n  min-width: 200px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  border: none;\r\n  padding: 0.5rem 0;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.dropdown-menu.show {\r\n  display: block !important;\r\n}\r\n\r\n/* Button Styles */\r\n.btn-control {\r\n  height: 38px;\r\n  background: #f8fafc;\r\n  border: 1px solid #e2e8f0;\r\n  color: #4a5568;\r\n  font-size: 0.9rem;\r\n  padding: 0.5rem 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  border-radius: 8px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.btn-control:hover,\r\n.btn-control:focus {\r\n  background: #f1f5f9;\r\n  border-color: #cbd5e1;\r\n  color: #2d3748;\r\n}\r\n\r\n/* Search Control */\r\n.search-control {\r\n  position: relative;\r\n  z-index: var(--z-controls);\r\n  width: 300px;\r\n}\r\n\r\n.search-control .input-group {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\r\n}\r\n\r\n.search-control .input-group-text {\r\n  background: white;\r\n  border: 1px solid #e2e8f0;\r\n  color: #718096;\r\n  padding-right: 0;\r\n}\r\n\r\n.search-control .form-control {\r\n  border: 1px solid #e2e8f0;\r\n  padding: 0.5rem 0.75rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* Filter Badge */\r\n.filter-badge {\r\n  position: absolute;\r\n  top: -6px;\r\n  right: -6px;\r\n  background: #e53e3e;\r\n  color: white;\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 50%;\r\n  font-size: 0.7rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid white;\r\n}\r\n\r\n/* Table styles */\r\n.table {\r\n  margin-bottom: 0;\r\n  background: white;\r\n}\r\n\r\n.table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: calc(var(--z-table) + 1);\r\n  padding: 1rem;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n/* Search control */\r\n.search-control {\r\n  position: relative;\r\n  z-index: var(--z-controls);\r\n}\r\n\r\n/* Controls wrapper */\r\n.controls-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.controls-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  z-index: var(--z-controls);\r\n}\r\n\r\n.btn-light {\r\n  background: #f8fafc;\r\n  border: 1px solid #e2e8f0;\r\n  color: #4a5568;\r\n}\r\n\r\n.btn-light:hover {\r\n  background: #f1f5f9;\r\n  border-color: #cbd5e1;\r\n  color: #2d3748;\r\n}\r\n\r\n.btn-primary {\r\n  background: #4299e1;\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background: #3182ce;\r\n}\r\n\r\n.student-info p {\r\n  margin-bottom: 0.75rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.student-info p:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.student-info strong {\r\n  color: #666;\r\n  display: inline-block;\r\n  width: 100px;\r\n}\r\n\r\n.empty-state-message {\r\n  padding: 2rem 0;\r\n}\r\n\r\n.empty-state-message i {\r\n  font-size: 2rem;\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.empty-state-message p {\r\n  margin: 0;\r\n  color: #6c757d;\r\n}\r\n\r\n.clickable-row {\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.clickable-row:hover {\r\n  background-color: rgba(0, 51, 102, 0.05) !important;\r\n}\r\n\r\n.student-info-card,\r\n.performance-card,\r\n.history-card {\r\n  background: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.student-info-header,\r\n.performance-header,\r\n.history-header {\r\n  background-color: #f8f9fa;\r\n  padding: 1rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  border-bottom: 1px solid #eee;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.student-info-content,\r\n.performance-content,\r\n.history-content {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.info-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 1.5rem;\r\n  padding: 1rem;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.info-item label {\r\n  font-weight: 600;\r\n  color: #666;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.info-item span {\r\n  color: #333;\r\n}\r\n\r\n.chart-container {\r\n  background: white;\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.badge {\r\nfont-size: 1rem;\r\npadding: 0.5em 1em;\r\n}\r\n\r\n.badge-quiz {\r\n  background-color: #4e73df;\r\n  color: white;\r\n}\r\n\r\n.badge-activity {\r\n  background-color: #1cc88a;\r\n  color: white;\r\n}\r\n\r\n.badge-performance {\r\n  background-color: #f6c23e;\r\n  color: white;\r\n}\r\n\r\n.score-excellent {\r\n  color: #1cc88a;\r\n  font-weight: 600;\r\n}\r\n\r\n.score-good {\r\n  color: #4e73df;\r\n  font-weight: 600;\r\n}\r\n\r\n.score-average {\r\n  color: #f6c23e;\r\n  font-weight: 600;\r\n}\r\n\r\n.score-poor {\r\n  color: #e74a3b;\r\n  font-weight: 600;\r\n}\r\n\r\n.modal-header.bg-primary {\r\n  background-color: #003366 !important;\r\n}\r\n\r\n.btn-close-white {\r\n  filter: brightness(0) invert(1);\r\n}\r\n\r\n.date-filter .form-control {\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  color: white;\r\n  width: 150px;\r\n}\r\n\r\n.date-filter .form-control::-webkit-calendar-picker-indicator {\r\n  filter: invert(1);\r\n}\r\n\r\n.date-filter .form-control:focus {\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  border-color: rgba(255, 255, 255, 0.3);\r\n  color: white;\r\n}\r\n\r\n.date-filter span {\r\n  padding: 0 0.5rem;\r\n}\r\n\r\n.date-input-container {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.date-picker-dropdown {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  margin-top: 4px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  padding: 12px;\r\n  min-width: 250px;\r\n}\r\n\r\n.date-picker-header {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  color: #666;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.close-btn:hover {\r\n  color: #333;\r\n}\r\n\r\n.date-picker-input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.date-picker-input::-webkit-calendar-picker-indicator {\r\n  cursor: pointer;\r\n  padding: 4px;\r\n}\r\n\r\n.date-filter .form-control {\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  color: white;\r\n  width: 150px;\r\n  cursor: pointer;\r\n}\r\n\r\n.date-filter .form-control:hover {\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.date-filter span {\r\n  padding: 0 0.5rem;\r\n  color: white;\r\n}\r\n\r\n.history-card {\r\n  position: relative;\r\n  overflow: visible !important;\r\n}\r\n\r\n.history-header {\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  margin-bottom: 0;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.table th {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 10;\r\n  padding: 1rem;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n.table td {\r\n  padding: 1rem;\r\n  vertical-align: middle;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.table tbody tr:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.btn {\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 8px;\r\n  font-weight: 500;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.btn i {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.form-control,\r\n.form-select {\r\n  border: 2px solid #eee;\r\n  border-radius: 8px;\r\n  padding: 0.75rem;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.form-control:focus,\r\n.form-select:focus {\r\n  border-color: var(--primary-color);\r\n  box-shadow: 0 0 0 0.2rem rgba(0, 51, 102, 0.15);\r\n}\r\n\r\n/* Table Controls */\r\n.table-controls {\r\n  position: relative;\r\n  z-index: 1030;\r\n  background: white;\r\n  padding: 1rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.05);\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n}\r\n\r\n.dropdown-menu {\r\n  position: absolute;\r\n  z-index: 1031;\r\n  min-width: 200px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  border: none;\r\n  padding: 0.5rem 0;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.dropdown-menu.show {\r\n  display: block !important;\r\n}\r\n\r\n/* Modal Styles */\r\n.modal-dialog {\r\n  max-width: 900px;\r\n  margin: 1.75rem auto;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-header {\r\n  background: #003366;\r\n  color: white;\r\n  padding: 1.25rem 1.5rem;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.modal-header .modal-title {\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  margin: 0;\r\n}\r\n\r\n.modal-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n/* Student Details Layout */\r\n.student-details {\r\n  display: grid;\r\n  grid-template-columns: 350px 1fr;\r\n  gap: 2rem;\r\nmax-height: calc(90vh - 4rem);\r\noverflow-y: auto;\r\n}\r\n\r\n.student-info {\r\n  background: #f8fafc;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n  height: fit-content;\r\n}\r\n\r\n.info-title {\r\n  color: #2d3748;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1.5rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n.info-content p {\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  font-size: 1rem;\r\n}\r\n\r\n.info-content p:last-child {\r\n  margin-bottom: 0;\r\n  padding-bottom: 0;\r\n  border-bottom: none;\r\n}\r\n\r\n.info-content strong {\r\n  color: #4a5568;\r\n  display: inline-block;\r\n  width: 120px;\r\n  font-weight: 600;\r\n}\r\n\r\n.student-charts {\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.chart-section {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.chart-section h6 {\r\n  color: #2d3748;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1.5rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n/* Table Styles */\r\n.table-responsive {\r\n  position: relative;\r\n  z-index: 1020;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n}\r\n\r\n/* Update existing styles */\r\n.table-container {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n  overflow: hidden;\r\n}\r\n\r\n.table-controls {\r\n  background: #f8fafc;\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.modal-dialog.modal-xxl {\r\nmax-width: 90%;\r\nwidth: 1400px;\r\nmargin: 2rem auto;\r\n}\r\n\r\n.student-details {\r\n  display: grid;\r\ngrid-template-columns: 350px 1fr;\r\n  gap: 2rem;\r\nmax-height: calc(90vh - 4rem);\r\noverflow-y: auto;\r\n}\r\n\r\n.student-info {\r\n  background: #f8fafc;\r\n  padding: 2rem;\r\n  border-radius: 12px;\r\n  height: fit-content;\r\n}\r\n\r\n.info-title {\r\n  color: #2d3748;\r\n  font-size: 1.4rem;\r\n  font-weight: 600;\r\n  margin-bottom: 2rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n.info-content p {\r\n  margin-bottom: 1.25rem;\r\n  padding-bottom: 1.25rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  font-size: 1.2rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n.info-content strong {\r\n  color: #4a5568;\r\n  display: inline-block;\r\n  width: 160px;\r\n  font-weight: 600;\r\n}\r\n\r\n.chart-section {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 2rem;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.chart-section h6 {\r\n  color: #2d3748;\r\n  font-size: 1.4rem;\r\n  font-weight: 600;\r\n  margin-bottom: 2rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n.attendance-table {\r\n  margin-top: 1rem;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.attendance-table th {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n}\r\n\r\n.attendance-table td {\r\n  font-size: 1.1rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.badge {\r\n  font-size: 1rem;\r\n  padding: 0.5em 1em;\r\n}\r\n\r\n/* Fix z-index issues */\r\n.modal-wrapper {\r\n  z-index: 9999 !important;\r\n}\r\n\r\n.modal-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 9998;\r\n  backdrop-filter: blur(4px);\r\n}\r\n\r\n.modal-dialog {\r\n  z-index: 9999 !important;\r\n}\r\n\r\n.table-controls {\r\n  position: relative;\r\n  z-index: 1020;\r\n}\r\n\r\n.dropdown-menu {\r\n  z-index: 1030;\r\n}\r\n\r\n.table-responsive {\r\n  position: relative;\r\n  z-index: 1010;\r\n}\r\n\r\n/* Ensure dropdowns are hidden when modal is open */\r\n.modal-wrapper ~ .table-controls .dropdown-menu {\r\n  display: none !important;\r\n}\r\n\r\n/* Timeline Styles */\r\n.timeline {\r\n  position: relative;\r\n  padding: 1rem 0;\r\n}\r\n\r\n.timeline::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 1rem;\r\n  height: 100%;\r\n  width: 2px;\r\n  background: #e2e8f0;\r\n}\r\n\r\n.timeline-item {\r\n  position: relative;\r\n  padding-left: 2.5rem;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n.timeline-item:last-child {\r\n  padding-bottom: 0;\r\n}\r\n\r\n.timeline-marker {\r\n  position: absolute;\r\n  left: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  background: #e2e8f0;\r\n  border: 4px solid #fff;\r\n  box-shadow: 0 0 0 2px #e2e8f0;\r\n  z-index: 1;\r\n}\r\n\r\n.timeline-content {\r\n  background: white;\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.timeline-content h6 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  color: #2d3748;\r\n}\r\n\r\n.timeline-status {\r\n  margin: 0.5rem 0 0;\r\n  font-size: 0.95rem;\r\n  color: #718096;\r\n}\r\n\r\n.timeline-item.completed .timeline-marker {\r\n  background: #003366;\r\n  box-shadow: 0 0 0 2px #003366;\r\n}\r\n\r\n.timeline-item.completed .timeline-content {\r\n  border-left: 3px solid #003366;\r\n}\r\n\r\n.timeline-item.completed .timeline-status {\r\n  color: #003366;\r\n  font-weight: 500;\r\n}\r\n\r\n.timeline-item.current .timeline-marker {\r\n  background: #4299e1;\r\n  box-shadow: 0 0 0 2px #4299e1;\r\n}\r\n\r\n.timeline-item.current .timeline-content {\r\n  border-left: 3px solid #4299e1;\r\n  background: #ebf8ff;\r\n}\r\n\r\n.timeline-item.current .timeline-status {\r\n  color: #4299e1;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Add Student Modal Styles */\r\n.add-student-modal {\r\nposition: fixed;\r\ntop: 0;\r\nleft: 0;\r\nwidth: 100%;\r\nheight: 100%;\r\ndisplay: flex;\r\nalign-items: center;\r\njustify-content: center;\r\nz-index: 9999;\r\n}\r\n\r\n.add-student-backdrop {\r\nposition: fixed;\r\ntop: 0;\r\nleft: 0;\r\nwidth: 100%;\r\nheight: 100%;\r\nbackground-color: rgba(0, 0, 0, 0.5);\r\nz-index: 9998;\r\n}\r\n\r\n.add-student-dialog {\r\nposition: relative;\r\nwidth: 100%;\r\nmax-width: 500px;\r\nmargin: 1.75rem;\r\nz-index: 10000;\r\n}\r\n\r\n.add-student-content {\r\nposition: relative;\r\ndisplay: flex;\r\nflex-direction: column;\r\nbackground-color: #fff;\r\nborder-radius: 12px;\r\nbox-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\noverflow: hidden;\r\n}\r\n\r\n.modal-header {\r\ndisplay: flex;\r\nalign-items: center;\r\njustify-content: space-between;\r\npadding: 1rem 1.5rem;\r\n}\r\n\r\n.modal-header.bg-primary {\r\nbackground-color: #003366 !important;\r\n}\r\n\r\n.modal-body {\r\npadding: 1.5rem;\r\n}\r\n\r\n.btn-close-white {\r\nfilter: brightness(0) invert(1);\r\n}\r\n\r\n/* Form Styles */\r\n.form-label {\r\nfont-weight: 500;\r\ncolor: #2d3748;\r\nmargin-bottom: 0.5rem;\r\n}\r\n\r\n.form-select,\r\n.form-control {\r\nborder: 2px solid #e2e8f0;\r\nborder-radius: 8px;\r\npadding: 0.75rem;\r\nwidth: 100%;\r\ntransition: all 0.2s;\r\n}\r\n\r\n.form-select:focus,\r\n.form-control:focus {\r\nborder-color: #003366;\r\nbox-shadow: 0 0 0 2px rgba(0, 51, 102, 0.1);\r\n}\r\n\r\n.text-muted {\r\ncolor: #718096 !important;\r\n}\r\n\r\n.btn {\r\npadding: 0.75rem 1.5rem;\r\nfont-weight: 500;\r\nborder-radius: 8px;\r\ntransition: all 0.2s;\r\n}\r\n\r\n.btn-primary {\r\nbackground-color: #003366;\r\nborder: none;\r\n}\r\n\r\n.btn-primary:hover:not(:disabled) {\r\nbackground-color: #004080;\r\n}\r\n\r\n.btn-secondary {\r\nbackground-color: #e2e8f0;\r\nborder: none;\r\ncolor: #4a5568;\r\n}\r\n\r\n.btn-secondary:hover {\r\nbackground-color: #cbd5e1;\r\n}\r\n\r\n.btn:disabled {\r\nopacity: 0.7;\r\ncursor: not-allowed;\r\n}\r\n\r\n/* Add CSS styles for the success button and modal */\r\n.btn-success {\r\n  background-color: #10B981;\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.btn-success:hover:not(:disabled) {\r\n  background-color: #059669;\r\n}\r\n\r\n.modal-header.bg-success {\r\n  background-color: #10B981 !important;\r\n}\r\n\r\n/* Form validation styles */\r\n.form-control.is-invalid,\r\n.form-select.is-invalid {\r\n  border-color: #dc3545;\r\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");\r\n  background-repeat: no-repeat;\r\n  background-position: right calc(0.375em + 0.1875rem) center;\r\n  background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\r\n}\r\n\r\n.invalid-feedback {\r\n  display: block;\r\n  width: 100%;\r\n  margin-top: 0.25rem;\r\n  font-size: 0.875em;\r\n  color: #dc3545;\r\n}\r\n\r\n/* Add sticky controls styles */\r\n.sticky-controls {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  padding: 1rem;\r\n  z-index: 1040;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* Add pagination styles */\r\n.pagination-controls {\r\n  background: white;\r\n  padding: 1rem;\r\n  border-top: 1px solid #e2e8f0;\r\n}\r\n\r\n.pagination-info {\r\n  color: #4a5568;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.pagination-buttons .btn {\r\n  min-width: 100px;\r\n}\r\n\r\n/* Update table styles for fixed height */\r\n.table-responsive {\r\n  max-height: calc(100vh - 250px);\r\n  overflow-y: auto;\r\n}\r\n\r\n/* Ensure sticky header stays in place */\r\n.table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 1020;\r\n}\r\n\r\n/* Attendance History styling to match StudentDetailsModal */\r\n.student-charts {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.attendance-history {\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.chart-controls {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  background: #f8fafc;\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.date-filter {\r\n  width: 100%;\r\n}\r\n\r\n.date-filter .input-group {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.date-filter .input-group-text {\r\n  background-color: #f1f5f9;\r\n  border-color: #e2e8f0;\r\n  color: #4a5568;\r\n  font-weight: 500;\r\n}\r\n\r\n.date-filter .form-control {\r\n  border-color: #e2e8f0;\r\n  color: #4a5568;\r\n  font-weight: 500;\r\n}\r\n\r\n.date-filter .btn {\r\n  margin-left: 8px;\r\n}\r\n\r\n.chart-section {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 2rem;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 0;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.chart-section::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 5px;\r\n  background: linear-gradient(to right, #4285F4, #34A853, #FBBC05, #EA4335);\r\n}\r\n\r\n.chart-section h6 {\r\n  color: #2d3748;\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.chart-section h6::before {\r\n  content: '\\f080';\r\n  font-family: 'Font Awesome 5 Free';\r\n  font-weight: 900;\r\n  margin-right: 0.75rem;\r\n  color: #4285F4;\r\n}\r\n\r\n.chart-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 400px !important;\r\n  background: linear-gradient(to bottom, rgba(249, 250, 251, 0.5), rgba(249, 250, 251, 0));\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n}\r\n\r\n.data-table {\r\n  margin-top: 1.5rem;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.data-table th {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  background: #f8fafc;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 1;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n.data-table td {\r\n  font-size: 1.1rem;\r\n  color: #4a5568;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.data-table tr:hover {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.status-badge {\r\n  padding: 0.3rem 0.75rem;\r\n  border-radius: 20px;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-badge.present {\r\n  background-color: rgba(16, 185, 129, 0.2);\r\n  color: #10b981;\r\n}\r\n\r\n.status-badge.late {\r\n  background-color: rgba(245, 158, 11, 0.2);\r\n  color: #f59e0b;\r\n}\r\n\r\n.status-badge.absent {\r\n  background-color: rgba(239, 68, 68, 0.2);\r\n  color: #ef4444;\r\n}\r\n\r\n/* Tabs styling */\r\n.nav-tabs {\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.nav-tabs .nav-item {\r\n  margin-bottom: -1px;\r\n}\r\n\r\n.nav-tabs .nav-link {\r\n  border: none;\r\n  border-bottom: 2px solid transparent;\r\n  color: #4a5568;\r\n  padding: 0.75rem 1.25rem;\r\n  font-weight: 500;\r\n  margin-right: 0.5rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.nav-tabs .nav-link:hover {\r\n  border-color: #cbd5e1;\r\n  color: #2d3748;\r\n}\r\n\r\n.nav-tabs .nav-link.active {\r\n  border-color: #3182ce;\r\n  color: #3182ce;\r\n  font-weight: 600;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}